(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(32),r=a.n(s),o=a(13),i=(a(72),a(73),a(7)),l=a.n(i),j=a(14),d=a(9),u=a(11),h=a(116),b=a(10),p=a.n(b),m=(a(93),a(123)),x=a(122),O=a(25),g=a(1);var f=a(24);a(105);function v(e){var t,a=e.logged_in,c=e.handle_logout,s=Object(n.useState)(!1),r=Object(d.a)(s,2),o=r[0],i=r[1];return window.addEventListener("scroll",(function(){!o&&window.pageYOffset>400?i(!0):o&&window.pageYOffset<=400&&i(!1)})),Object(g.jsx)("div",{children:a?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{className:"nav-b2 nav-bar2",children:Object(g.jsxs)("div",{className:"nav-bar nav-b",children:[Object(g.jsx)("div",{className:"nav-3",children:Object(g.jsx)("div",{className:"nav-4",children:Object(g.jsx)("div",{className:"nav-5",children:Object(g.jsx)("span",{children:Object(g.jsx)("img",(t={className:"nav-logo",src:"https://i.imgur.com/bfjUjgq.png",width:"140px",height:"40px"},Object(f.a)(t,"className","scrollTop"),Object(f.a)(t,"onClick",(function(){window.scrollTo({top:0,behavior:"smooth"})})),t))})})})}),Object(g.jsx)("div",{className:"nav-6",children:Object(g.jsx)(m.a,{children:Object(g.jsx)(h.a,{children:Object(g.jsx)(m.a.Collapse,{children:Object(g.jsxs)(x.a,{children:[Object(g.jsx)("div",{className:"icon-div",children:Object(g.jsx)(O.LinkContainer,{to:"/photos",children:Object(g.jsx)(x.a.Link,{children:Object(g.jsx)("img",{src:"https://i.imgur.com/CaEnz7X.png",height:"30px",width:"30px"})})})}),Object(g.jsx)("div",{className:"icon-div",children:Object(g.jsx)("div",{children:Object(g.jsx)(O.LinkContainer,{to:"/photos/create",children:Object(g.jsx)(x.a.Link,{children:Object(g.jsx)("img",{className:"icons",src:"https://i.imgur.com/HrDkVxj.png",height:"30px",width:"30px"})})})})}),Object(g.jsx)("div",{className:"icon-div",children:Object(g.jsx)("div",{children:Object(g.jsx)(O.LinkContainer,{to:"/profile",children:Object(g.jsx)(x.a.Link,{children:Object(g.jsx)("img",{className:"icons",src:"https://i.imgur.com/nmYlsec.png",to:"/profile/",height:"30px",width:"36px"})})})})}),Object(g.jsx)("div",{className:"icon-div",children:Object(g.jsx)("div",{children:Object(g.jsx)(O.LinkContainer,{to:"/login",children:Object(g.jsx)(x.a.Link,{onClick:c,children:Object(g.jsx)("img",{className:"profile-pic icons",src:"https://i.imgur.com/z9msD3g.png?1",height:"30px",width:"30px"})})})})})]})})})})})]})})}):Object(g.jsx)("h1",{children:" "})})}var k=a(20),y=a(44),w=a(45),N=a(48),_=a(46),S=function(e){Object(N.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={username:"",password:""},e.handle_change=function(t){var a=t.target.name,n=t.target.value;e.setState((function(e){var t=Object(k.a)({},e);return t[a]=n,t}))},e}return Object(w.a)(a,[{key:"render",value:function(){var e=this;return Object(g.jsxs)("article",{className:"art",children:[Object(g.jsxs)("div",{className:"gr27e",children:[Object(g.jsx)("img",{src:"https://i.imgur.com/bfjUjgq.png",width:"280px",height:"90px"}),Object(g.jsx)("div",{className:"signup-div",children:Object(g.jsxs)("form",{className:"sign-form",onSubmit:function(t){return e.props.handle_signup(t,e.state)},children:[Object(g.jsx)("h2",{className:"sign-sub",children:"Sign up to see photos and videos from your friends."}),Object(g.jsx)("label",{htmlFor:"username",children:"First Name"}),Object(g.jsx)("input",{type:"text",name:"first_name",value:this.state.first_name,onChange:this.handle_change}),Object(g.jsx)("label",{htmlFor:"username",children:"Last Name"}),Object(g.jsx)("input",{type:"text",name:"last_name",value:this.state.last_name,onChange:this.handle_change}),Object(g.jsx)("label",{htmlFor:"username",children:"email"}),Object(g.jsx)("input",{type:"text",name:"email",value:this.state.email,onChange:this.handle_change}),Object(g.jsx)("label",{htmlFor:"username",children:"Username"}),Object(g.jsx)("input",{type:"text",name:"username",value:this.state.username,onChange:this.handle_change}),Object(g.jsx)("label",{htmlFor:"password",children:"Password"}),Object(g.jsx)("input",{type:"password",name:"password",value:this.state.password,onChange:this.handle_change}),Object(g.jsx)("input",{type:"submit"})]})}),Object(g.jsx)("p",{className:"sign-term",children:"By signing up, you agree to our Terms , Data Policy and Cookies Policy ."})]}),Object(g.jsx)("div",{className:"gr27e",children:Object(g.jsx)("div",{className:"bot-div log-bot bottom-div bottom-log sign-bot",children:Object(g.jsxs)("p",{className:"bot-p",children:["Already have an account? ",Object(g.jsx)(o.Link,{to:"/login",children:"Login"})]})})})]})}}]),a}(c.a.Component),C=(a(106),function(e){Object(N.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={username:"",password:""},e.handle_change=function(t){var a=t.target.name,n=t.target.value;e.setState((function(e){var t=Object(k.a)({},e);return t[a]=n,t}))},e}return Object(w.a)(a,[{key:"render",value:function(){var e=this;return Object(g.jsxs)("article",{className:"art",children:[Object(g.jsxs)("div",{className:"gr27e",children:[Object(g.jsx)("img",{src:"https://i.imgur.com/bfjUjgq.png",height:"90px",width:"280px"}),Object(g.jsxs)("form",{className:"sign-form",onSubmit:function(t){return e.props.handle_login(t,e.state)},children:[Object(g.jsx)("label",{htmlFor:"username",children:"Username"}),Object(g.jsx)("input",{type:"text",name:"username",value:this.state.username,onChange:this.handle_change}),Object(g.jsx)("label",{htmlFor:"password",children:"Password"}),Object(g.jsx)("input",{type:"password",name:"password",value:this.state.password,onChange:this.handle_change}),Object(g.jsx)("input",{type:"submit"})]})]}),Object(g.jsx)("div",{className:"gr27e",children:Object(g.jsx)("div",{className:"bot-div log-bot bottom-div bottom-log sign-bot",children:Object(g.jsxs)("p",{className:"bot-p",children:["Don't have an account? ",Object(g.jsx)(o.Link,{to:"/signup",children:"Sign Up"})]})})})]})}}]),a}(c.a.Component));a(107);var T=a(117),L=a(118),E=a(124),D=a(121),P=a(119),R=a(120);function F(e){var t=e.user,a=Object(n.useState)([]),c=Object(d.a)(a,2),s=c[0],r=c[1],o=Object(n.useState)([]),i=Object(d.a)(o,2),h=i[0],b=i[1],m=Object(n.useState)([]),x=Object(d.a)(m,2),O=x[0],f=x[1],v=Object(n.useState)(!1),k=Object(d.a)(v,2),y=k[0],w=k[1],N=function(){return w(!1)},_=function(e){console.log(e.target.value),w(!0)},S=Object(n.useState)(!1),C=Object(d.a)(S,2),F=C[0],I=C[1],A=function(e){console.log(e.target.value),I(!0)},z=Object(u.k)(),J=function(e){f(e.target.value)},U=function(e){"Enter"===e.key&&""!==O&&(W(O),f(""))},W=function(){var e=Object(j.a)(l.a.mark((function e(a){var n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.target.value,console.log(n),a.preventDefault(),c={url:"/api/comments/".concat(t.id,"/create/").concat(n,"/"),method:"POST",headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))},data:{photo:n,user:t.id,comment:O}},e.prev=4,e.next=7,p()(c).then((function(e){console.log("Response for submission=>",e)}));case 7:e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),console.log("bleh");case 13:z.push("/");case 14:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(j.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(t.target.value),a={url:"/api/comments/".concat(t.target.value,"/delete_comment/"),method:"DELETE",headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))},data:{photo:t.target.value}},e.prev=3,e.next=6,p()(a).then((function(e){console.log("Response for submission=>",e)}));case 6:e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.log("bleh");case 12:z.push("/");case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}();console.log(h),Object(n.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={url:"/api/allusers/",method:"GET",headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}},e.prev=1,e.next=4,p()(t).then((function(e){console.log("Response for submission=>",e),r(e.data)}));case 4:e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log("bleh");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={url:"/api/photos/",method:"GET",headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}},e.next=3,p()(t);case 3:a=e.sent,b(a.data),z.push("/photos/");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var B=function(){var e=Object(j.a)(l.a.mark((function e(a){var n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a.target.value),console.log(t),n=a.target.value,a.preventDefault(),c={url:"/api/likes/".concat(t.id,"/create/").concat(n,"/"),method:"POST",headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))},data:{photo:n,user:t.id}},e.prev=5,e.next=8,p()(c).then((function(e){console.log("Response for submission=>",e)}));case 8:e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),console.log("bleh");case 14:z.push("/");case 15:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)("section",{className:"index-pg ind-pg",children:Object(g.jsx)("div",{className:"ind-div",children:Object(g.jsx)(T.a,{children:h.map((function(e){return Object(g.jsx)(L.a,{children:Object(g.jsxs)(E.a,{className:"my-3 p-3 rounded",children:[Object(g.jsxs)(E.a.Body,{as:"div",children:[Object(g.jsx)(E.a.Title,{as:"div",children:Object(g.jsx)("strong",{children:e.user.username})}),Object(g.jsxs)(E.a.Text,{as:"div",children:[Object(g.jsx)("div",{className:"my-3",children:e.location}),Object(g.jsx)("img",{src:e.url})]}),Object(g.jsxs)(D.a,{onSubmit:B,children:[e.likes.map((function(e){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(P.a,{variant:"contained",type:"submit",color:"primary",onClick:B,value:e.photo,children:Object(g.jsx)("a",{class:"wpO6b  ",type:"submit",children:Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("svg",{"aria-label":"Like",class:"_8-yf5 ",fill:"#262626",height:"24",viewBox:"0 0 48 48",width:"24",children:Object(g.jsx)("path",{d:"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"})})})})})})})),Object(g.jsx)(P.a,{disabled:!O,type:"submit",variant:"contained",color:"primary",onClick:W,value:e.id,children:Object(g.jsx)("svg",{"aria-label":"Comment",class:"_8-yf5 ",fill:"#262626",height:"24",viewBox:"0 0 48 48",width:"24",children:Object(g.jsx)("path",{clipRule:"evenodd",d:"M47.5 46.1l-2.8-11c1.8-3.3 2.8-7.1 2.8-11.1C47.5 11 37 .5 24 .5S.5 11 .5 24 11 47.5 24 47.5c4 0 7.8-1 11.1-2.8l11 2.8c.8.2 1.6-.6 1.4-1.4zm-3-22.1c0 4-1 7-2.6 10-.2.4-.3.9-.2 1.4l2.1 8.4-8.3-2.1c-.5-.1-1-.1-1.4.2-1.8 1-5.2 2.6-10 2.6-11.4 0-20.6-9.2-20.6-20.5S12.7 3.5 24 3.5 44.5 12.7 44.5 24z",fillRule:"evenodd"})})}),Object(g.jsx)(P.a,{variant:"contained",type:"submit",color:"primary",onClick:B,value:e.id,children:Object(g.jsx)("a",{class:"wpO6b  ",type:"submit",children:Object(g.jsx)("svg",{"aria-label":"Save",class:"_8-yf5 ",fill:"#262626",height:"24",viewBox:"0 0 48 48",width:"24",children:Object(g.jsx)("path",{d:"M43.5 48c-.4 0-.8-.2-1.1-.4L24 29 5.6 47.6c-.4.4-1.1.6-1.6.3-.6-.2-1-.8-1-1.4v-45C3 .7 3.7 0 4.5 0h39c.8 0 1.5.7 1.5 1.5v45c0 .6-.4 1.2-.9 1.4-.2.1-.4.1-.6.1zM24 26c.8 0 1.6.3 2.2.9l15.8 16V3H6v39.9l15.8-16c.6-.6 1.4-.9 2.2-.9z"})})})})]}),Object(g.jsx)(E.a.Text,{as:"div",children:Object(g.jsx)("div",{className:"my-3",children:Object(g.jsxs)("span",{children:[Object(g.jsx)("strong",{children:e.user.username})," ",e.caption]})})}),Object(g.jsx)(E.a.Text,{as:"div",children:Object(g.jsxs)("div",{className:"my-3",onClick:_,class:"myDIV",children:["Likes: ",e.likes.length]})}),Object(g.jsxs)(R.a,{show:y,onHide:N,children:[Object(g.jsx)(R.a.Header,{children:Object(g.jsx)(R.a.Title,{children:Object(g.jsx)("strong",{children:"Likes"})})}),Object(g.jsxs)(R.a.Body,{children:[Object(g.jsx)("img",{src:e.url}),e.likes.map((function(e){return Object(g.jsx)("span",{children:Object(g.jsx)("h2",{id:"likedusers",className:"user-name name name1 name-profile",children:s.find((function(t){return"".concat(e.user)})).username})})}))]})]}),Object(g.jsx)(E.a.Text,{as:"div",children:e.comments.map((function(t){return Object(g.jsx)(g.Fragment,{children:t.photo===e.id?Object(g.jsx)("div",{className:"my-3",children:Object(g.jsxs)("span",{children:[Object(g.jsx)("strong",{children:s.find((function(e){return"".concat(t.user)})).username}),t.comment," ",Object(g.jsxs)(L.a,{children:[Object(g.jsx)(P.a,{variant:"contained",onClick:A,value:t.id,children:Object(g.jsxs)("svg",{"aria-label":"More options",className:"_8-yf5 ",fillRule:"#262626",height:"16",viewBox:"0 0 48 48",width:"16",children:[Object(g.jsx)("circle",{clipRule:"evenodd",cx:"8",cy:"24",fillRule:"evenodd",r:"4.5"}),Object(g.jsx)("circle",{clipRule:"evenodd",cx:"24",cy:"24",fillRule:"evenodd",r:"4.5"}),Object(g.jsx)("circle",{clipRule:"evenodd",cx:"40",cy:"24",fillRule:"evenodd",r:"4.5"})]})}),F?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(P.a,{variant:"contained",onClick:N,children:"Cancel"}),Object(g.jsx)(P.a,{variant:"light",onClick:G,value:t.id,children:"Delete"})]}):""]})]})}):""})}))}),Object(g.jsx)("section",{class:"com-sec comment",children:Object(g.jsx)("div",{className:"comment-sec",children:Object(g.jsxs)(D.a,{className:"form-com",onSubmit:W,children:[Object(g.jsx)(D.a.Group,{children:Object(g.jsx)(D.a.Control,{type:"text",placeholder:"Enter Comment",name:"name",onChange:J,onKeyUp:U})}),Object(g.jsx)(D.a.Group,{children:Object(g.jsx)(P.a,{disabled:!O,type:"submit",variant:"contained",color:"primary",onClick:W,value:e.id,children:"Post"})})]})})})]}),Object(g.jsx)(E.a.Footer,{children:Object(g.jsxs)("small",{className:"text-muted",children:["posted ",new Date(e.created_date).toLocaleDateString()]})})]})})}))})})})}a(108);function I(e){var t=e.user,a=Object(n.useState)("Upload a Photo"),c=Object(d.a)(a,2),s=(c[0],c[1],Object(n.useState)("")),r=Object(d.a)(s,2),o=r[0],i=r[1],h=Object(n.useState)({caption:"",location:"",url:""}),b=Object(d.a)(h,2),m=b[0],x=b[1],O=Object(u.k)(),v=function(e){x(Object(k.a)(Object(k.a)({},m),{},Object(f.a)({},e.target.name,e.target.value))),console.log(m)},y=function(){var e=Object(j.a)(l.a.mark((function e(a){var n,c,s,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.target.value,console.log("clicked"),console.log(n),console.log(m.caption),console.log(m.location),console.log(m.url),a.preventDefault(),c="",(s=new FormData).append("file",o),s.append("upload_preset","ggurtht8"),e.next=13,p.a.post("https://api.cloudinary.com/v1_1/edithr2852/image/upload",s).then((function(e){console.log(e.data.url),c=e.data.url}));case 13:return console.log("axios finished",c),r={url:"/api/photos/".concat(t.id,"/add_photo/"),method:"POST",headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))},data:{photo:n,user:t.id,caption:m.caption,location:m.location,url:c}},e.prev=15,e.next=18,p()(r).then((function(e){console.log("Response for submission=>",e)}));case 18:e.sent,e.next=24;break;case 21:e.prev=21,e.t0=e.catch(15),console.log("bleh");case 24:O.push("/profile");case 25:case"end":return e.stop()}}),e,null,[[15,21]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"add-photo ind-pg",children:[Object(g.jsx)("h1",{children:"Add Photo"}),Object(g.jsxs)(D.a,{onSubmit:y,children:[Object(g.jsxs)(D.a.Group,{children:[Object(g.jsx)(D.a.Label,{children:"Caption:"}),Object(g.jsx)(D.a.Control,{type:"text",placeholder:"Enter Caption",name:"caption",onChange:v})]}),Object(g.jsxs)(D.a.Group,{children:[Object(g.jsx)(D.a.Label,{children:"Location:"}),Object(g.jsx)(D.a.Control,{type:"text",placeholder:"Enter Location",name:"location",onChange:v})]}),Object(g.jsxs)(D.a.Group,{children:[Object(g.jsx)(D.a.Label,{children:"Upload Image:"}),Object(g.jsx)(D.a.Control,{type:"file",name:"url",onChange:function(e){console.log(e.target.files),i(e.target.files[0])}})]}),Object(g.jsxs)(D.a.Group,{children:[Object(g.jsx)(P.a,{type:"submit",onChange:v,children:"Add Photo"})," "]})]})]})}a(109);var A=a(66);function z(e){var t=e.user,a=(e.profilePhoto,Object(n.useState)([])),c=Object(d.a)(a,2),s=c[0],r=c[1],i=Object(n.useState)(!1),h=Object(d.a)(i,2),b=h[0],m=h[1],x=function(){return m(!1)},O=function(e){console.log(e.target.value),m(!0)},f=Object(u.k)();Object(n.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={url:"/api/photos/",method:"GET",headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}},e.next=3,p()(t);case 3:a=e.sent,r(a.data),console.log(a.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var v=function(){var e=Object(j.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={url:"/api/photos/".concat(t.target.value,"/delete_photo/"),method:"DELETE",headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))},data:{photo:t.target.value}},e.prev=2,e.next=5,p()(a).then((function(e){console.log("Response for submission=>",e)}));case 5:e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log("bleh");case 11:f.push("/");case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("main",{className:"profile-main pro-main pro-main-2",children:[Object(g.jsx)("div",{className:"profile-1 profile-3 prof-1",children:Object(g.jsx)("header",{className:"header-1",children:Object(g.jsx)(L.a,{children:Object(g.jsxs)(E.a,{children:[Object(g.jsx)("div",{className:"profile-img-1",children:Object(g.jsxs)("div",{className:"profile-img-2",children:[Object(g.jsx)("h1",{children:" "}),Object(g.jsx)("img",{className:"pic-prof",src:"{profile.url}",alt:""}),Object(g.jsx)("span",{className:"span-pic"})]})}),Object(g.jsx)("section",{className:"profile-sec",children:Object(g.jsx)("div",{className:"profile-div-1",children:Object(g.jsxs)(E.a.Body,{children:[Object(g.jsxs)(E.a.Title,{children:[Object(g.jsx)("h2",{className:"user-name name name1 name-profile",children:t.username}),Object(g.jsx)("br",{}),Object(g.jsxs)("div",{className:"user-name name name1 name-profile",children:["Last Login:"," ",new Date(t.last_login).toLocaleDateString()]}),Object(g.jsx)("br",{})]}),Object(g.jsx)("div",{className:"btn-1 btn-2 btn-3",children:Object(g.jsx)(E.a.Link,{children:Object(g.jsx)(o.Link,{className:"btn btn-xs",to:{pathname:"/profile/update",state:{user:t}},user:t,children:Object(g.jsx)("button",{children:"Edit Profile"})},t.id)})}),Object(g.jsx)("div",{className:"btn-1 btn-2 btn-3",children:Object(g.jsx)(E.a.Link,{children:Object(g.jsx)(o.Link,{className:"btn btn-xs",to:{pathname:"/profile/photo",state:{user:t}},user:t,children:Object(g.jsx)("button",{children:"Add Profile Photo"})},t.id)})})]})})}),Object(g.jsx)(E.a.Footer,{children:Object(g.jsxs)("small",{className:"text-muted",children:["Joined on ",new Date(t.date_joined).toLocaleDateString()]})})]})})})}),s.map((function(e){return Object(g.jsx)("section",{className:"index-pg ind-pg",children:Object(g.jsx)("div",{className:"ind-div",children:Object(g.jsx)(T.a,{children:e.user.id===t.id?Object(g.jsx)("div",{className:" \\flex-box",children:Object(g.jsxs)(E.a.Body,{as:"div",children:[Object(g.jsxs)(E.a.Title,{as:"div",children:[Object(g.jsxs)(T.a,{children:[Object(g.jsx)("strong",{children:e.user.username}),Object(g.jsx)(A.a,{children:Object(g.jsxs)(L.a,{children:[Object(g.jsx)(P.a,{variant:"contained",onClick:O,value:e.id,children:Object(g.jsxs)("svg",{"aria-label":"More options",className:"_8-yf5 ",fillRule:"#262626",height:"16",viewBox:"0 0 48 48",width:"16",children:[Object(g.jsx)("circle",{clipRule:"evenodd",cx:"8",cy:"24",fillRule:"evenodd",r:"4.5"}),Object(g.jsx)("circle",{clipRule:"evenodd",cx:"24",cy:"24",fillRule:"evenodd",r:"4.5"}),Object(g.jsx)("circle",{clipRule:"evenodd",cx:"40",cy:"24",fillRule:"evenodd",r:"4.5"})]})}),b?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(P.a,{variant:"contained",onClick:x,children:"Cancel"}),Object(g.jsx)(P.a,{variant:"light",onClick:v,value:e.id,children:"Delete"})]}):""]})})]}),Object(g.jsx)("div",{className:"my-3",children:e.location})]}),Object(g.jsx)(E.a.Img,{as:"div",children:Object(g.jsx)("img",{className:"my-3",src:e.url})}),Object(g.jsx)(E.a.Text,{as:"div"}),Object(g.jsx)(E.a.Text,{as:"div",children:Object(g.jsx)("div",{className:"my-3",children:Object(g.jsxs)("span",{children:[Object(g.jsx)("strong",{children:e.user.username})," ",e.caption]})})}),Object(g.jsx)(E.a.Text,{as:"div",children:Object(g.jsxs)("div",{className:"my-3",children:["Likes: ",e.likes.length," | Comments: ",e.comments.length]})})]})}):console.log("bye bye photo")})})})}))]})})}a(110);function J(e){var t=e.user,a=e.setUser,c=Object(u.l)(),s=Object(n.useState)(!0),r=Object(d.a)(s,2),i=r[0],h=r[1],b=Object(n.useState)(c.state.user),m=Object(d.a)(b,2),x=m[0],O=m[1],v=Object(n.useRef)(),y=Object(u.k)();Object(n.useEffect)((function(){v.current.checkValidity()?h(!1):h(!0)}),[x]);var w=function(){var e=Object(j.a)(l.a.mark((function e(n){var c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),c={url:"/api/profile/".concat(t.id,"/update/"),method:"PUT",headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))},data:{username:x.username,first_name:x.first_name,last_name:x.last_name,email:x.email}},e.prev=2,e.next=5,p()(c);case 5:s=e.sent,console.log(s.data),a(s.data),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log("Failed to Update");case 13:y.push("/profile");case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),N=function(e){O(Object(k.a)(Object(k.a)({},x),{},Object(f.a)({},e.target.name,e.target.value)))};return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h1",{children:"Edit Profile"}),Object(g.jsx)("section",{className:"ind-pg",children:Object(g.jsx)("main",{children:Object(g.jsx)("div",{children:Object(g.jsxs)(D.a,{ref:v,autoComplete:"off",onSubmit:w,children:[Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Username "}),Object(g.jsx)("input",{className:"form-control",name:"username",value:x.username,onChange:N,required:!0})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"First Name "}),Object(g.jsx)("input",{className:"form-control",name:"first_name",value:x.first_name,onChange:N,required:!0})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Last Name"}),Object(g.jsx)("input",{className:"form-control",name:"last_name",value:x.last_name,onChange:N,required:!0})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Email"}),Object(g.jsx)("input",{className:"form-control",name:"email",value:x.email,onChange:N,required:!0})]}),Object(g.jsx)(P.a,{type:"submit",className:"btn btn-xs",disabled:i,children:"SAVE Profile"}),"\xa0\xa0",Object(g.jsx)(o.Link,{to:"/profile",children:"CANCEL"})]})})})})]})}a(111);function U(e){var t=e.user,a=Object(n.useState)("Upload a Photo"),c=Object(d.a)(a,2),s=(c[0],c[1],Object(n.useState)("")),r=Object(d.a)(s,2),o=r[0],i=r[1],h=Object(n.useState)({url:""}),b=Object(d.a)(h,2),m=b[0],x=b[1],O=Object(u.k)(),v=function(){var e=Object(j.a)(l.a.mark((function e(a){var n,c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.target.value,a.preventDefault(),n="",(c=new FormData).append("file",o),c.append("upload_preset","hzvualup"),e.next=8,p.a.post("https://api.cloudinary.com/v1_1/edithr2852/image/upload",c).then((function(e){console.log(e.data.url),n=e.data.url}));case 8:return console.log("axios finished",n),s={url:"/api/profilephoto/".concat(t.id,"/add_profilephoto/"),method:"POST",headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))},data:{user:t.id,url:n}},e.prev=10,e.next=13,p()(s).then((function(e){console.log("Response for submission=>",e)}));case 13:e.sent,e.next=19;break;case 16:e.prev=16,e.t0=e.catch(10),console.log("bleh");case 19:O.push("/profile");case 20:case"end":return e.stop()}}),e,null,[[10,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h1",{children:"Hello"}),Object(g.jsxs)(D.a,{onSubmit:v,children:[Object(g.jsxs)(D.a.Group,{children:[Object(g.jsx)(D.a.Label,{children:"Upload Image:"}),Object(g.jsx)(D.a.Control,{type:"file",name:"url",onChange:function(e){console.log(e.target.files),i(e.target.files[0])}})]}),Object(g.jsx)(D.a.Group,{children:Object(g.jsx)(P.a,{type:"submit",onChange:function(e){x(Object(k.a)(Object(k.a)({},m),{},Object(f.a)({},e.target.name,e.target.value))),console.log(m)},children:"Add Photo"})})]})]})}function W(){var e=Object(n.useState)(!!localStorage.getItem("token")),t=Object(d.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)([]),r=Object(d.a)(s,2),o=r[0],i=r[1],b=Object(u.k)(),m=Object(n.useState)("Add a Profile Picure!"),x=Object(d.a)(m,2),O=x[0],f=x[1];Object(n.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var t,a,n,c,s,r,o,j,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("----- Log In Last User via JWT -----"),!(t=localStorage.getItem("token"))){e.next=28;break}return a=t.split(".")[0],n=t.split(".")[1],c=t.split(".")[2],console.log("----- Split JWT -----"),console.log(a),console.log(n),console.log(c),s=JSON.parse(atob(n)),console.log("----- Parsed JWT body -----"),console.log(s),r=s.username,console.log("----- username -----"),console.log(r),o={url:"/api/profile/",method:"GET",headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}},e.next=19,p()(o);case 19:j=e.sent,console.log("----- Axios Data -----"),console.log(j),d=j.data,console.log("----- User from Token -----"),console.log(d),i(d),e.next=29;break;case 28:b.push("/");case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={url:"/api/profilephoto/",method:"GET",headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}},e.next=3,p()(t);case 3:a=e.sent,f(a.data),console.log(O);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var k=function(){var e=Object(j.a)(l.a.mark((function e(t,a){var n,s,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={url:"/api/token-auth/",method:"POST",headers:{"Content-Type":"application/json"},data:{username:a.username,password:a.password}},e.next=4,p()(n);case 4:s=e.sent,r=s.data.token,o=s.data.user,localStorage.setItem("token",r),localStorage.getItem("token")&&(i(o),c(!0));case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),y=function(){var e=Object(j.a)(l.a.mark((function e(t,a){var n,s,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={url:"/api/users/",method:"POST",headers:{"Content-Type":"application/json"},data:{first_name:a.first_name,last_name:a.last_name,email:a.email,password:a.password,username:a.username}},e.next=4,p()(n);case 4:s=e.sent,r=s.data.token,o={id:s.data.id,password:s.data.password,last_login:s.data.last_login,is_superuser:s.data.is_superuser,username:s.data.username,first_name:s.data.first_name,last_name:s.data.last_name,email:s.data.email,is_staff:s.data.is_staff,is_active:s.data.is_active,date_joined:s.data.date_joined,groups:s.data.groups,user_permissions:s.data.user_permissions},localStorage.setItem("token",r),localStorage.getItem("token")&&(i(o),c(!0),window.location.href="/photos");case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(v,{logged_in:a,handle_logout:function(){localStorage.removeItem("token"),c(!1),i([])}}),Object(g.jsxs)(h.a,{id:"window",children:[Object(g.jsx)(u.d,{exact:!0,path:"/",children:a?Object(g.jsx)(F,{logged_in:a,user:o}):Object(g.jsx)(C,{handle_login:k})}),Object(g.jsx)(u.d,{exact:!0,path:"/photos",children:Object(g.jsx)(F,{logged_in:a,user:o})}),Object(g.jsx)(u.d,{exact:!0,path:"/photos/create",children:Object(g.jsx)(I,{logged_in:a,user:o})}),Object(g.jsx)(u.d,{exact:!0,path:"/profile",children:Object(g.jsx)(z,{logged_in:a,user:o,profilePhoto:O})}),Object(g.jsx)(u.d,{exact:!0,path:"/profile/update",children:Object(g.jsx)(J,{logged_in:a,user:o,setUser:i})}),Object(g.jsx)(u.d,{exact:!0,path:"/profile/photo",children:Object(g.jsx)(U,{logged_in:a,user:o})}),Object(g.jsx)(u.d,{exact:!0,path:"/signup",children:Object(g.jsx)(S,{handle_signup:y})}),Object(g.jsx)(u.d,{exact:!0,path:"/login",children:a?Object(g.jsx)(F,{logged_in:a,user:o}):Object(g.jsx)(C,{handle_login:k})})]})]})}p.a.defaults.xsrfCookieName="csrftoken",p.a.defaults.xsrfHeaderName="X-CSRFToken",r.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(o.BrowserRouter,{children:Object(g.jsx)(W,{})})}),document.getElementById("root"))},72:function(e,t,a){},73:function(e,t,a){},93:function(e,t,a){}},[[112,1,2]]]);
//# sourceMappingURL=main.fd1cafad.chunk.js.map