(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{110:function(e,t,n){},111:function(e,t,n){},112:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){},117:function(e,t,n){},118:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(33),r=n.n(s),i=n(12),o=(n(77),n(78),n(6)),l=n.n(o),j=n(10),d=n(8),u=n(13),h=n(122),b=n(9),p=n.n(b),m=(n(98),n(129)),O=n(127),x=n(27),f=n(0);var g=n(26);n(110);function v(e){var t,n=e.logged_in,c=e.handle_logout,s=Object(a.useState)(!1),r=Object(d.a)(s,2),i=r[0],o=r[1];return window.addEventListener("scroll",(function(){!i&&window.pageYOffset>400?o(!0):i&&window.pageYOffset<=400&&o(!1)})),Object(f.jsx)("div",{children:n?Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"nav-b2 nav-bar2",children:Object(f.jsxs)("div",{className:"nav-bar nav-b",children:[Object(f.jsx)("div",{className:"nav-3",children:Object(f.jsx)("div",{className:"nav-4",children:Object(f.jsx)("div",{className:"nav-5",children:Object(f.jsx)("span",{children:Object(f.jsx)("img",(t={className:"nav-logo",src:"https://i.imgur.com/bfjUjgq.png",width:"140px",height:"40px"},Object(g.a)(t,"className","scrollTop"),Object(g.a)(t,"onClick",(function(){window.scrollTo({top:0,behavior:"smooth"})})),t))})})})}),Object(f.jsx)("div",{className:"nav-6",children:Object(f.jsx)(m.a,{children:Object(f.jsx)(h.a,{children:Object(f.jsx)(m.a.Collapse,{children:Object(f.jsxs)(O.a,{children:[Object(f.jsx)("div",{className:"icon-div",children:Object(f.jsx)(x.LinkContainer,{to:"/photos",children:Object(f.jsx)(O.a.Link,{children:Object(f.jsx)("img",{src:"https://i.imgur.com/CaEnz7X.png",height:"30px",width:"30px"})})})}),Object(f.jsx)("div",{className:"icon-div",children:Object(f.jsx)("div",{children:Object(f.jsx)(x.LinkContainer,{to:"/photos/create",children:Object(f.jsx)(O.a.Link,{children:Object(f.jsx)("img",{className:"icons",src:"https://i.imgur.com/HrDkVxj.png",height:"30px",width:"30px"})})})})}),Object(f.jsx)("div",{className:"icon-div",children:Object(f.jsx)("div",{children:Object(f.jsx)(x.LinkContainer,{to:"/profile",children:Object(f.jsx)(O.a.Link,{children:Object(f.jsx)("img",{className:"icons",src:"https://i.imgur.com/nmYlsec.png",to:"/profile/",height:"30px",width:"36px"})})})})}),Object(f.jsx)("div",{className:"icon-div",children:Object(f.jsx)("div",{children:Object(f.jsx)(x.LinkContainer,{to:"/login",children:Object(f.jsx)(O.a.Link,{onClick:c,children:Object(f.jsx)("img",{className:"profile-pic icons",src:"https://i.imgur.com/z9msD3g.png?1",height:"30px",width:"30px"})})})})})]})})})})})]})})}):Object(f.jsx)("h1",{children:" "})})}var k=n(22),y=n(46),w=n(47),N=n(50),_=n(48),S=function(e){Object(N.a)(n,e);var t=Object(_.a)(n);function n(){var e;Object(y.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={username:"",password:""},e.handle_change=function(t){var n=t.target.name,a=t.target.value;e.setState((function(e){var t=Object(k.a)({},e);return t[n]=a,t}))},e}return Object(w.a)(n,[{key:"render",value:function(){var e=this;return Object(f.jsxs)("article",{className:"art",children:[Object(f.jsxs)("div",{className:"gr27e",children:[Object(f.jsx)("img",{src:"https://i.imgur.com/bfjUjgq.png",width:"280px",height:"90px"}),Object(f.jsx)("div",{className:"signup-div",children:Object(f.jsxs)("form",{className:"sign-form",onSubmit:function(t){return e.props.handle_signup(t,e.state)},children:[Object(f.jsx)("h2",{className:"sign-sub",children:"Sign up to see photos and videos from your friends."}),Object(f.jsx)("label",{htmlFor:"username",children:"First Name"}),Object(f.jsx)("input",{type:"text",name:"first_name",value:this.state.first_name,onChange:this.handle_change}),Object(f.jsx)("label",{htmlFor:"username",children:"Last Name"}),Object(f.jsx)("input",{type:"text",name:"last_name",value:this.state.last_name,onChange:this.handle_change}),Object(f.jsx)("label",{htmlFor:"username",children:"email"}),Object(f.jsx)("input",{type:"text",name:"email",value:this.state.email,onChange:this.handle_change}),Object(f.jsx)("label",{htmlFor:"username",children:"Username"}),Object(f.jsx)("input",{type:"text",name:"username",value:this.state.username,onChange:this.handle_change}),Object(f.jsx)("label",{htmlFor:"password",children:"Password"}),Object(f.jsx)("input",{type:"password",name:"password",value:this.state.password,onChange:this.handle_change}),Object(f.jsx)("input",{type:"submit"})]})}),Object(f.jsx)("p",{className:"sign-term",children:"By signing up, you agree to our Terms , Data Policy and Cookies Policy ."})]}),Object(f.jsx)("div",{className:"gr27e",children:Object(f.jsx)("div",{className:"bot-div log-bot bottom-div bottom-log sign-bot",children:Object(f.jsxs)("p",{className:"bot-p",children:["Already have an account? ",Object(f.jsx)(i.Link,{to:"/login",children:"Login"})]})})})]})}}]),n}(c.a.Component),C=(n(111),function(e){Object(N.a)(n,e);var t=Object(_.a)(n);function n(){var e;Object(y.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={username:"",password:""},e.handle_change=function(t){var n=t.target.name,a=t.target.value;e.setState((function(e){var t=Object(k.a)({},e);return t[n]=a,t}))},e}return Object(w.a)(n,[{key:"render",value:function(){var e=this;return Object(f.jsxs)("article",{className:"art",children:[Object(f.jsxs)("div",{className:"gr27e",children:[Object(f.jsx)("img",{src:"https://i.imgur.com/bfjUjgq.png",height:"90px",width:"280px"}),Object(f.jsxs)("form",{className:"sign-form",onSubmit:function(t){return e.props.handle_login(t,e.state)},children:[Object(f.jsx)("label",{htmlFor:"username",children:"Username"}),Object(f.jsx)("input",{type:"text",name:"username",value:this.state.username,onChange:this.handle_change}),Object(f.jsx)("label",{htmlFor:"password",children:"Password"}),Object(f.jsx)("input",{type:"password",name:"password",value:this.state.password,onChange:this.handle_change}),Object(f.jsx)("input",{type:"submit"})]})]}),Object(f.jsx)("div",{className:"gr27e",children:Object(f.jsx)("div",{className:"bot-div log-bot bottom-div bottom-log sign-bot",children:Object(f.jsxs)("p",{className:"bot-p",children:["Don't have an account? ",Object(f.jsx)(i.Link,{to:"/signup",children:"Sign Up"})]})})})]})}}]),n}(c.a.Component));n(112);var T=n(124),D=n(125),L=n(130),F=n(128),P=n(123);function E(e){var t=e.user,n=e.photo_id,c=e.photo,s=Object(u.k)(),r=Object(a.useState)(!1),i=Object(d.a)(r,2),o=i[0],h=i[1];Object(a.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.likes.length){e.next=4;break}return e.abrupt("return");case 4:c.likes.map((function(e){return e.user===t.id?h(!0):h(!1)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}));var b=function(){var e=Object(j.a)(l.a.mark((function e(a){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),c={url:"http://localhost:8000/likes/".concat(t.id,"/create/").concat(n,"/"),method:"POST",headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))},data:{photo:n,user:t.id}},e.prev=2,e.next=5,p()(c).then((function(e){console.log("Response for submission=>",e)}));case 5:e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log("bleh");case 11:s.push("/");case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)(f.Fragment,{children:o?Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(P.a,{variant:"contained",type:"submit",color:"primary",onClick:b,value:n,children:Object(f.jsx)("a",{class:"wpO6b  ",type:"submit",children:Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("svg",{"aria-label":"Unlike",class:"_8-yf5 ",fill:"#ed4956",height:"24",viewBox:"0 0 48 48",width:"24",children:Object(f.jsx)("path",{d:"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"})})})})})}):Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(P.a,{variant:"contained",type:"submit",color:"primary",onClick:b,value:n,children:Object(f.jsx)("a",{class:"wpO6b  ",type:"submit",children:Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("svg",{"aria-label":"Like",class:"_8-yf5 ",fill:"#262626",height:"24",viewBox:"0 0 48 48",width:"24",children:Object(f.jsx)("path",{d:"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"})})})})})})})}function R(e){var t=e.user,n=e.photo_id,c=e.photo,s=Object(u.k)(),r=Object(a.useState)(!1),i=Object(d.a)(r,2),o=i[0],h=i[1];Object(a.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.likes.length){e.next=4;break}return e.abrupt("return");case 4:c.likes.map((function(e){return e.user===t.id?h(!0):h(!1)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}));var b=function(){var e=Object(j.a)(l.a.mark((function e(a){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),c={url:"http://localhost:8000/likes/".concat(t.id,"/create/").concat(n,"/"),method:"POST",headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))},data:{photo:n,user:t.id}},e.prev=2,e.next=5,p()(c).then((function(e){console.log("Response for submission=>",e)}));case 5:e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log("bleh");case 11:s.push("/");case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)(f.Fragment,{children:o?Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(P.a,{variant:"contained",type:"submit",color:"primary",onClick:b,value:c.id,children:Object(f.jsx)("a",{class:"wpO6b  ",type:"submit",children:Object(f.jsx)("svg",{"aria-label":"Remove",class:"_8-yf5 ",fill:"#262626",height:"24",viewBox:"0 0 48 48",width:"24",children:Object(f.jsx)("path",{d:"M43.5 48c-.4 0-.8-.2-1.1-.4L24 28.9 5.6 47.6c-.4.4-1.1.6-1.6.3-.6-.2-1-.8-1-1.4v-45C3 .7 3.7 0 4.5 0h39c.8 0 1.5.7 1.5 1.5v45c0 .6-.4 1.2-.9 1.4-.2.1-.4.1-.6.1z"})})})})}):Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(P.a,{variant:"contained",type:"submit",color:"primary",onClick:b,value:c.id,children:Object(f.jsx)("a",{class:"wpO6b  ",type:"submit",children:Object(f.jsx)("svg",{"aria-label":"Save",class:"_8-yf5 ",fill:"#262626",height:"24",viewBox:"0 0 48 48",width:"24",children:Object(f.jsx)("path",{d:"M43.5 48c-.4 0-.8-.2-1.1-.4L24 29 5.6 47.6c-.4.4-1.1.6-1.6.3-.6-.2-1-.8-1-1.4v-45C3 .7 3.7 0 4.5 0h39c.8 0 1.5.7 1.5 1.5v45c0 .6-.4 1.2-.9 1.4-.2.1-.4.1-.6.1zM24 26c.8 0 1.6.3 2.2.9l15.8 16V3H6v39.9l15.8-16c.6-.6 1.4-.9 2.2-.9z"})})})})})})}function I(e){var t=e.user,n=(e.photo_id,e.photo),c=(e.handleNewCommentChange,e.handleKeyUp,e.handleSubmit),s=(Object(u.k)(),Object(a.useState)(!1)),r=Object(d.a)(s,2),i=(r[0],r[1]),o=Object(a.useState)([]),h=Object(d.a)(o,2),b=h[0];h[1];return Object(a.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.comments.length){e.next=4;break}return e.abrupt("return");case 4:n.comments.map((function(e){return e.user===t.id?i(!0):i(!1)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()})),Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(P.a,{variant:"contained",disabled:!b,type:"submit",color:"primary",onClick:c,value:n.id,name:n.id,children:Object(f.jsx)("a",{class:"wpO6b  ",type:"submit",children:Object(f.jsx)("svg",{"aria-label":"Comment",class:"_8-yf5 ",fill:"#262626",height:"24",viewBox:"0 0 48 48",width:"24",children:Object(f.jsx)("path",{clipRule:"evenodd",d:"M47.5 46.1l-2.8-11c1.8-3.3 2.8-7.1 2.8-11.1C47.5 11 37 .5 24 .5S.5 11 .5 24 11 47.5 24 47.5c4 0 7.8-1 11.1-2.8l11 2.8c.8.2 1.6-.6 1.4-1.4zm-3-22.1c0 4-1 7-2.6 10-.2.4-.3.9-.2 1.4l2.1 8.4-8.3-2.1c-.5-.1-1-.1-1.4.2-1.8 1-5.2 2.6-10 2.6-11.4 0-20.6-9.2-20.6-20.5S12.7 3.5 24 3.5 44.5 12.7 44.5 24z",fillRule:"evenodd"})})})})})})}var z=n(69),A=n(126);n(113);function U(e){e.key;var t=e.photo,n=e.allUsers,c=e.profilePhoto,s=Object(a.useState)(!1),r=Object(d.a)(s,2),i=r[0],o=r[1];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(L.a.Text,{as:"div",children:Object(f.jsxs)("div",{className:"my-3",onClick:function(e){o(!0)},class:"myDIV",children:["Likes: ",t.likes.length]})}),Object(f.jsxs)(A.a,{show:i,onHide:function(){return o(!1)},children:[Object(f.jsx)(A.a.Header,{children:Object(f.jsx)(A.a.Title,{children:Object(f.jsx)("strong",{children:"Likes"})})}),Object(f.jsxs)(A.a.Body,{children:[Object(f.jsx)("img",{src:t.url}),t.likes.map((function(e){return Object(f.jsxs)(h.a,{children:[Object(f.jsxs)(T.a,{children:[Object(f.jsx)("div",{id:"likedusers",className:"user-name name name1 name-profile",children:c.map((function(t){return Object(f.jsx)(f.Fragment,{children:t.user.id===e.user?Object(f.jsx)("img",{className:"likeduserprofilepic",src:t.image_url}):""})}))}),Object(f.jsx)("div",{id:"likedusers",className:"user-name name name1 name-profile",children:n.find((function(t){return"".concat(e.user)})).username})]}),Object(f.jsxs)(T.a,{children:[Object(f.jsx)(z.a,{children:Object(f.jsx)("div",{id:"likedusers",className:"user-name name name1 name-profile",children:n.find((function(t){return"".concat(e.user)})).first_name})}),Object(f.jsx)(z.a,{children:Object(f.jsx)("div",{id:"likedusers",className:"user-name name name1 name-profile",children:n.find((function(t){return"".concat(e.user)})).last_name})})]})]})}))]})]})]})}function J(e){var t=e.user,n=e.profilePhoto,c=Object(a.useState)([]),s=Object(d.a)(c,2),r=s[0],i=s[1],o=Object(a.useState)([]),h=Object(d.a)(o,2),b=h[0],m=h[1],O=Object(a.useState)([]),x=Object(d.a)(O,2),g=x[0],v=x[1],k=Object(a.useState)(!1),y=Object(d.a)(k,2),w=y[0],N=y[1],_=function(){return N(!1)},S=function(e){N(!0)},C=Object(u.k)(),z=function(e){v(e.target.value)},A=function(e){"Enter"===e.key&&""!==g&&(J(g),v(""))},J=function(){var e=Object(j.a)(l.a.mark((function e(n){var a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.target.value,n.preventDefault(),c={url:"/api/comments/".concat(t.id,"/create/").concat(a,"/"),method:"POST",headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))},data:{photo:a,user:t.id,comment:g}},e.prev=3,e.next=6,p()(c).then((function(e){console.log("Response for submission=>",e)}));case 6:e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.log("bleh");case 12:C.push("/");case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={url:"/api/comments/".concat(t.target.value,"/delete_comment/"),method:"DELETE",headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))},data:{photo:t.target.value}},e.prev=2,e.next=5,p()(n).then((function(e){console.log("Response for submission=>",e)}));case 5:e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log("bleh");case 11:C.push("/");case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={url:"/api/allusers/",method:"GET",headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}},e.prev=1,e.next=4,p()(t).then((function(e){console.log("Response for allUsers=>",e),i(e.data)}));case 4:e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log("bleh");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={url:"/api/photos/",method:"GET",headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}},e.next=3,p()(t);case 3:n=e.sent,m(n.data),C.push("/photos/");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var B=function(){var e=Object(j.a)(l.a.mark((function e(n){var a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.target.value,n.preventDefault(),c={url:"/api/likes/".concat(t.id,"/create/").concat(a,"/"),method:"POST",headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))},data:{photo:a,user:t.id}},e.prev=3,e.next=6,p()(c).then((function(e){console.log("Response for submission=>",e)}));case 6:e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.log("bleh");case 12:C.push("/");case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}();return console.log(r),Object(f.jsx)("section",{className:"index-pg ind-pg",children:Object(f.jsx)("div",{className:"ind-div",children:Object(f.jsx)(T.a,{children:b.map((function(e){return Object(f.jsx)(D.a,{children:Object(f.jsxs)(L.a,{className:"my-3 p-3 rounded",children:[Object(f.jsxs)(L.a.Body,{as:"div",children:[Object(f.jsx)(L.a.Text,{as:"div",children:n.map((function(t){return Object(f.jsx)(f.Fragment,{children:t.user.id===e.user.id?Object(f.jsx)("img",{className:"profilephoto_feed",src:t.image_url}):""})}))}),Object(f.jsx)(L.a.Title,{as:"div",children:Object(f.jsx)("strong",{children:e.user.username})}),Object(f.jsxs)(L.a.Text,{as:"div",children:[Object(f.jsx)("div",{className:"my-3",children:e.location}),Object(f.jsx)("img",{src:e.url})]}),Object(f.jsxs)(F.a,{as:"div",onSubmit:B,class:"flexbox-container",children:[Object(f.jsx)(E,{user:t,photo_id:e.id,photo:e}),Object(f.jsx)(I,{user:t,photo_id:e.id,photo:e,handleNewCommentChange:z,handleKeyUp:A,handleSubmit:J}),Object(f.jsx)(R,{user:t,photo_id:e.id,photo:e})]}),Object(f.jsx)(L.a.Text,{as:"div",children:Object(f.jsx)("div",{className:"my-3",children:Object(f.jsxs)("span",{children:[Object(f.jsx)("strong",{children:e.user.username})," ",e.caption]})})}),Object(f.jsx)(U,{photo:e,allUsers:r,profilePhoto:n},e.id),Object(f.jsx)(L.a.Text,{as:"div",children:e.comments.map((function(t){return Object(f.jsx)(f.Fragment,{children:t.photo===e.id?Object(f.jsx)("div",{className:"my-3",children:Object(f.jsxs)("span",{children:[Object(f.jsx)("strong",{children:r.find((function(e){return"".concat(t.user)})).username}),t.comment," ",Object(f.jsxs)(D.a,{children:[Object(f.jsx)(P.a,{variant:"contained",onClick:S,value:t.id,children:Object(f.jsxs)("svg",{"aria-label":"More options",className:"_8-yf5 ",fillRule:"#262626",height:"16",viewBox:"0 0 48 48",width:"16",children:[Object(f.jsx)("circle",{clipRule:"evenodd",cx:"8",cy:"24",fillRule:"evenodd",r:"4.5"}),Object(f.jsx)("circle",{clipRule:"evenodd",cx:"24",cy:"24",fillRule:"evenodd",r:"4.5"}),Object(f.jsx)("circle",{clipRule:"evenodd",cx:"40",cy:"24",fillRule:"evenodd",r:"4.5"})]})}),w?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(P.a,{variant:"contained",onClick:_,children:"Cancel"}),Object(f.jsx)(P.a,{variant:"light",onClick:W,value:t.id,children:"Delete"})]}):""]})]})}):""})}))}),Object(f.jsx)("section",{class:"com-sec comment",children:Object(f.jsx)("div",{className:"comment-sec",children:Object(f.jsxs)(F.a,{className:"form-com",onSubmit:J,children:[Object(f.jsx)(F.a.Group,{children:Object(f.jsx)(F.a.Control,{type:"text",placeholder:"Enter Comment",name:"name",onChange:z,onKeyUp:A})}),Object(f.jsx)(F.a.Group,{children:Object(f.jsx)(P.a,{disabled:!g,type:"submit",variant:"contained",color:"primary",onClick:J,value:e.id,children:"Post"})})]})})})]}),Object(f.jsx)(L.a.Footer,{children:Object(f.jsxs)("small",{className:"text-muted",children:["posted ",new Date(e.created_date).toLocaleDateString()]})})]})})}))})})})}n(114);var W=n(70),B=n(72),G=n(71);function M(e){var t=e.user,n=Object(a.useState)("Upload a Photo"),c=Object(d.a)(n,2),s=(c[0],c[1],Object(a.useState)("")),r=Object(d.a)(s,2),i=r[0],o=r[1],h=Object(a.useState)({caption:"",location:"",url:""}),b=Object(d.a)(h,2),m=b[0],O=b[1],x=Object(u.k)(),v=function(e){O(Object(k.a)(Object(k.a)({},m),{},Object(g.a)({},e.target.name,e.target.value))),console.log(m)},y=function(){var e=Object(j.a)(l.a.mark((function e(n){var a,c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.target.value,n.preventDefault(),a="",(c=new FormData).append("file",i),c.append("upload_preset","ggurtht8"),e.next=8,p.a.post("https://api.cloudinary.com/v1_1/edithr2852/image/upload",c).then((function(e){console.log(e.data.url),a=e.data.url}));case 8:return console.log("axios finished",a),s={url:"http://localhost:8000/photos/".concat(t.id,"/add_photo/"),method:"POST",headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))},data:{user:t.id,caption:m.caption,location:m.location,url:a}},e.prev=10,e.next=13,p()(s).then((function(e){console.log("Response for submission=>",e)}));case 13:e.sent,e.next=19;break;case 16:e.prev=16,e.t0=e.catch(10),console.log("bleh");case 19:x.push("/profile");case 20:case"end":return e.stop()}}),e,null,[[10,16]])})));return function(t){return e.apply(this,arguments)}}();Object(a.useRef)();return Object(f.jsxs)("div",{className:"add-photo",children:[Object(f.jsx)("h1",{children:"Add Photo"}),Object(f.jsx)("div",{className:"container",children:Object(f.jsx)("div",{className:"drop-container",onDragOver:function(e){e.preventDefault()},onDragEnter:function(e){e.preventDefault()},onDragLeave:function(e){e.preventDefault()},onDrop:function(e){e.preventDefault();var t=e.dataTransfer.files;o(t[0]),console.log(t)},children:"Drag & Drop files here or click to upload below"})}),Object(f.jsx)("hr",{}),Object(f.jsxs)(F.a,{onSubmit:y,children:[Object(f.jsxs)(W.a,{children:[Object(f.jsx)(B.a,{children:"Caption:"}),Object(f.jsx)(G.a,{type:"text",placeholder:"Enter Caption",name:"caption",onChange:v})]}),Object(f.jsxs)(W.a,{children:[Object(f.jsx)(B.a,{children:"Location:"}),Object(f.jsx)(G.a,{type:"text",placeholder:"Enter Location",name:"location",onChange:v})]}),Object(f.jsxs)(W.a,{children:[Object(f.jsx)(B.a,{children:"Upload Image:"}),Object(f.jsx)(G.a,{type:"file",name:"url",onChange:function(e){console.log(e.target.files),o(e.target.files[0])}})]}),Object(f.jsxs)(W.a,{children:[Object(f.jsx)(P.a,{type:"submit",onChange:v,children:"Add Photo"})," "]})]})]})}n(115);function q(e){var t=e.user,n=e.profilePhoto,c=Object(a.useState)([]),s=Object(d.a)(c,2),r=s[0],o=s[1],b=Object(a.useState)(!1),m=Object(d.a)(b,2),O=m[0],x=m[1],g=function(){return x(!1)},v=function(e){x(!0)},k=Object(u.k)();Object(a.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={url:"/api/photos/",method:"GET",headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}},e.next=3,p()(t);case 3:n=e.sent,o(n.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var y=function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={url:"/api/photos/".concat(t.target.value,"/delete_photo/"),method:"DELETE",headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))},data:{photo:t.target.value}},e.prev=2,e.next=5,p()(n).then((function(e){console.log("Response for submission=>",e)}));case 5:e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log("bleh");case 11:k.push("/");case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("main",{className:"profile-main pro-main pro-main-2",children:[Object(f.jsx)("div",{className:"profile-1 profile-3 prof-1",children:Object(f.jsx)("header",{className:"header-1",children:Object(f.jsx)(D.a,{children:Object(f.jsxs)(L.a,{children:[Object(f.jsx)("div",{className:"profile-img-1",children:Object(f.jsxs)("div",{className:"profile-img-2",children:[Object(f.jsx)("h1",{children:" "}),Object(f.jsx)("img",{className:"pic-prof",src:"{profile.url}",alt:""}),Object(f.jsx)("span",{className:"span-pic"})]})}),Object(f.jsx)("section",{className:"profile-sec",children:Object(f.jsx)("div",{className:"profile-div-1",children:Object(f.jsx)(h.a,{children:Object(f.jsxs)(T.a,{children:[Object(f.jsx)(z.a,{children:Object(f.jsx)(L.a.Body,{children:Object(f.jsx)(L.a.Text,{as:"div",children:n.map((function(e){return Object(f.jsx)(f.Fragment,{children:e.user.id===t.id?Object(f.jsx)("img",{className:"profilephoto",src:e.image_url}):""})}))})})}),Object(f.jsx)(z.a,{children:Object(f.jsxs)(L.a.Body,{children:[Object(f.jsxs)(L.a.Title,{children:[Object(f.jsx)("h2",{className:"user-name name name1 name-profile",children:t.username}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{className:"user-name name name1 name-profile",children:["Last Login:"," ",new Date(t.last_login).toLocaleDateString()]}),Object(f.jsx)("br",{})]}),Object(f.jsx)("div",{className:"btn-1 btn-2 btn-3",children:Object(f.jsx)(L.a.Link,{children:Object(f.jsx)(i.Link,{className:"btn btn-xs",to:{pathname:"/profile/update",state:{user:t}},user:t,children:Object(f.jsx)("button",{children:"Edit Profile"})},t.id)})}),Object(f.jsx)("div",{className:"btn-1 btn-2 btn-3",children:Object(f.jsx)(L.a.Link,{children:Object(f.jsx)(i.Link,{className:"btn btn-xs",to:{pathname:"/profile/photo",state:{user:t}},user:t,children:Object(f.jsx)("button",{children:"Add Profile Photo"})},t.id)})})]})})]})})})}),Object(f.jsx)(L.a.Footer,{children:Object(f.jsxs)("small",{className:"text-muted",children:["Joined on ",new Date(t.date_joined).toLocaleDateString()]})})]})})})}),r.map((function(e){return Object(f.jsx)("section",{className:"index-pg ind-pg",children:Object(f.jsx)("div",{className:"ind-div",children:Object(f.jsx)(T.a,{children:e.user.id===t.id?Object(f.jsx)("div",{className:" \\flex-box",children:Object(f.jsxs)(L.a.Body,{as:"div",children:[Object(f.jsxs)(L.a.Title,{as:"div",children:[Object(f.jsxs)(T.a,{children:[Object(f.jsx)("strong",{children:e.user.username}),Object(f.jsx)(z.a,{children:Object(f.jsxs)(D.a,{children:[Object(f.jsx)(P.a,{variant:"contained",onClick:v,value:e.id,children:Object(f.jsxs)("svg",{"aria-label":"More options",className:"_8-yf5 ",fillRule:"#262626",height:"16",viewBox:"0 0 48 48",width:"16",children:[Object(f.jsx)("circle",{clipRule:"evenodd",cx:"8",cy:"24",fillRule:"evenodd",r:"4.5"}),Object(f.jsx)("circle",{clipRule:"evenodd",cx:"24",cy:"24",fillRule:"evenodd",r:"4.5"}),Object(f.jsx)("circle",{clipRule:"evenodd",cx:"40",cy:"24",fillRule:"evenodd",r:"4.5"})]})}),O?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(P.a,{variant:"contained",onClick:g,children:"Cancel"}),Object(f.jsx)(P.a,{variant:"light",onClick:y,value:e.id,children:"Delete"})]}):""]})})]}),Object(f.jsx)("div",{className:"my-3",children:e.location})]}),Object(f.jsx)(L.a.Img,{as:"div",children:Object(f.jsx)("img",{className:"my-3",src:e.url})}),Object(f.jsx)(L.a.Text,{as:"div"}),Object(f.jsx)(L.a.Text,{as:"div",children:Object(f.jsx)("div",{className:"my-3",children:Object(f.jsxs)("span",{children:[Object(f.jsx)("strong",{children:e.user.username})," ",e.caption]})})}),Object(f.jsx)(L.a.Text,{as:"div",children:Object(f.jsxs)("div",{className:"my-3",children:["Likes: ",e.likes.length," | Comments:"," ",e.comments.length]})})]})}):console.log("bye bye photo")})})})}))]})})}n(116);function H(e){var t=e.user,n=e.setUser,c=Object(u.l)(),s=Object(a.useState)(!0),r=Object(d.a)(s,2),o=r[0],h=r[1],b=Object(a.useState)(c.state.user),m=Object(d.a)(b,2),O=m[0],x=m[1],v=Object(a.useRef)(),y=Object(u.k)();Object(a.useEffect)((function(){v.current.checkValidity()?h(!1):h(!0)}),[O]);var w=function(){var e=Object(j.a)(l.a.mark((function e(a){var c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),c={url:"/api/profile/".concat(t.id,"/update/"),method:"PUT",headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))},data:{username:O.username,first_name:O.first_name,last_name:O.last_name,email:O.email}},e.prev=2,e.next=5,p()(c);case 5:s=e.sent,console.log(s.data),n(s.data),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log("Failed to Update");case 13:y.push("/profile");case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),N=function(e){x(Object(k.a)(Object(k.a)({},O),{},Object(g.a)({},e.target.name,e.target.value)))};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h1",{children:"Edit Profile"}),Object(f.jsx)("section",{className:"ind-pg",children:Object(f.jsx)("main",{children:Object(f.jsx)("div",{children:Object(f.jsxs)(F.a,{ref:v,autoComplete:"off",onSubmit:w,children:[Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{children:"Username "}),Object(f.jsx)("input",{className:"form-control",name:"username",value:O.username,onChange:N,required:!0})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{children:"First Name "}),Object(f.jsx)("input",{className:"form-control",name:"first_name",value:O.first_name,onChange:N,required:!0})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{children:"Last Name"}),Object(f.jsx)("input",{className:"form-control",name:"last_name",value:O.last_name,onChange:N,required:!0})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{children:"Email"}),Object(f.jsx)("input",{className:"form-control",name:"email",value:O.email,onChange:N,required:!0})]}),Object(f.jsx)(P.a,{type:"submit",className:"btn btn-xs",disabled:o,children:"SAVE Profile"}),"\xa0\xa0",Object(f.jsx)(i.Link,{to:"/profile",children:"CANCEL"})]})})})})]})}n(117);function V(e){var t=e.user,n=Object(a.useState)("Upload a Photo"),c=Object(d.a)(n,2),s=(c[0],c[1],Object(a.useState)("")),r=Object(d.a)(s,2),i=r[0],o=r[1],h=Object(a.useState)({url:""}),b=Object(d.a)(h,2),m=b[0],O=b[1],x=Object(u.k)(),v=function(){var e=Object(j.a)(l.a.mark((function e(n){var a,c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.target.value,n.preventDefault(),a="",(c=new FormData).append("file",i),c.append("upload_preset","hzvualup"),e.next=8,p.a.post("https://api.cloudinary.com/v1_1/edithr2852/image/upload",c).then((function(e){console.log(e.data.url),a=e.data.url}));case 8:return console.log("axios finished",a),s={url:"/api/profilephoto/".concat(t.id,"/add_profilephoto/"),method:"POST",headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))},data:{user:t.id,url:a}},e.prev=10,e.next=13,p()(s).then((function(e){console.log("Response for submission=>",e)}));case 13:e.sent,e.next=19;break;case 16:e.prev=16,e.t0=e.catch(10),console.log("bleh");case 19:x.push("/profile");case 20:case"end":return e.stop()}}),e,null,[[10,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h1",{children:"Hello"}),Object(f.jsxs)(F.a,{onSubmit:v,children:[Object(f.jsxs)(F.a.Group,{children:[Object(f.jsx)(F.a.Label,{children:"Upload Image:"}),Object(f.jsx)(F.a.Control,{type:"file",name:"url",onChange:function(e){console.log(e.target.files),o(e.target.files[0])}})]}),Object(f.jsx)(F.a.Group,{children:Object(f.jsx)(P.a,{type:"submit",onChange:function(e){O(Object(k.a)(Object(k.a)({},m),{},Object(g.a)({},e.target.name,e.target.value))),console.log(m)},children:"Add Photo"})})]})]})}function K(){var e=Object(a.useState)(!!localStorage.getItem("token")),t=Object(d.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)([]),i=Object(d.a)(r,2),o=i[0],b=i[1],m=Object(u.k)(),O=Object(a.useState)([]),x=Object(d.a)(O,2),g=x[0],k=x[1];Object(a.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var t,n,a,c,s,r,i,o,j;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("----- Log In Last User via JWT -----"),!(t=localStorage.getItem("token"))){e.next=28;break}return n=t.split(".")[0],a=t.split(".")[1],c=t.split(".")[2],console.log("----- Split JWT -----"),console.log(n),console.log(a),console.log(c),s=JSON.parse(atob(a)),console.log("----- Parsed JWT body -----"),console.log(s),r=s.username,console.log("----- username -----"),console.log(r),i={url:"/api/profile/",method:"GET",headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}},e.next=19,p()(i);case 19:o=e.sent,console.log("----- Axios Data -----"),console.log(o),j=o.data,console.log("----- User from Token -----"),console.log(j),b(j),e.next=29;break;case 28:m.push("/");case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={url:"/api/profilephoto/",method:"GET",headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}},e.next=3,p()(t);case 3:n=e.sent,k(n.data),console.log(g);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var y=function(){var e=Object(j.a)(l.a.mark((function e(t,n){var a,c,r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={url:"/api/token-auth/",method:"POST",headers:{"Content-Type":"application/json"},data:{username:n.username,password:n.password}},e.next=4,p()(a);case 4:c=e.sent,r=c.data.token,i=c.data.user,localStorage.setItem("token",r),localStorage.getItem("token")&&(b(i),s(!0));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=Object(j.a)(l.a.mark((function e(t,n){var a,c,r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={url:"/api/users/",method:"POST",headers:{"Content-Type":"application/json"},data:{first_name:n.first_name,last_name:n.last_name,email:n.email,password:n.password,username:n.username}},e.next=4,p()(a);case 4:c=e.sent,r=c.data.token,i={id:c.data.id,password:c.data.password,last_login:c.data.last_login,is_superuser:c.data.is_superuser,username:c.data.username,first_name:c.data.first_name,last_name:c.data.last_name,email:c.data.email,is_staff:c.data.is_staff,is_active:c.data.is_active,date_joined:c.data.date_joined,groups:c.data.groups,user_permissions:c.data.user_permissions},localStorage.setItem("token",r),localStorage.getItem("token")&&(b(i),s(!0),window.location.href="/api/photos/");case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(f.jsxs)(c.a.Fragment,{children:[Object(f.jsx)(v,{logged_in:n,handle_logout:function(){localStorage.removeItem("token"),s(!1),b([])}}),Object(f.jsxs)(h.a,{id:"window",children:[Object(f.jsx)(u.d,{exact:!0,path:"/",children:n?Object(f.jsx)(J,{logged_in:n,user:o,profilePhoto:g}):Object(f.jsx)(C,{handle_login:y})}),Object(f.jsx)(u.d,{exact:!0,path:"/photos",children:Object(f.jsx)(J,{logged_in:n,user:o,profilePhoto:g})}),Object(f.jsx)(u.d,{exact:!0,path:"/photos/create",children:Object(f.jsx)(M,{logged_in:n,user:o})}),Object(f.jsx)(u.d,{exact:!0,path:"/profile",children:Object(f.jsx)(q,{logged_in:n,user:o,profilePhoto:g})}),Object(f.jsx)(u.d,{exact:!0,path:"/profile/update",children:Object(f.jsx)(H,{logged_in:n,user:o,setUser:b,profilePhoto:g})}),Object(f.jsx)(u.d,{exact:!0,path:"/profile/photo",children:Object(f.jsx)(V,{logged_in:n,user:o,profilePhoto:g})}),Object(f.jsx)(u.d,{exact:!0,path:"/signup",children:Object(f.jsx)(S,{handle_signup:w})}),Object(f.jsx)(u.d,{exact:!0,path:"/login",children:n?Object(f.jsx)(J,{logged_in:n,user:o}):Object(f.jsx)(C,{handle_login:y})})]})]})}p.a.defaults.xsrfCookieName="csrftoken",p.a.defaults.xsrfHeaderName="X-CSRFToken",r.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(i.BrowserRouter,{children:Object(f.jsx)(K,{})})}),document.getElementById("root"))},77:function(e,t,n){},78:function(e,t,n){},98:function(e,t,n){}},[[118,1,2]]]);
//# sourceMappingURL=main.2961b2e2.chunk.js.map